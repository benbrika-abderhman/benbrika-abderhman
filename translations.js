/* ========================================
   Translations - Multilingual Support
   ======================================== */

const translations = {
    ar: {
        // Navigation
        nav_home: "الرئيسية",
        nav_about: "من أنا",
        nav_services: "خدماتي",
        nav_portfolio: "أعمالي",
        nav_stats: "إنجازاتي",
        nav_contact: "تواصل معي",

        // Hero Section
        hero_badge: "متخصص في التداول وإدارة السوشيال ميديا والبرمجة",
        hero_title_1: "أحول الأفكار إلى",
        hero_title_2: "نتائج استثنائية",
        hero_description: "خبرة متميزة في أسواق المال والتداول، مع إبداع في إدارة منصات التواصل الاجتماعي. أساعدك على تحقيق أهدافك المالية وبناء حضور رقمي قوي.",
        hero_btn_start: "ابدأ الآن",
        hero_btn_work: "شاهد أعمالي",
        stat_success: "نسبة النجاح",
        stat_followers: "متابع",
        stat_clients: "عميل راضي",
        scroll_more: "اكتشف المزيد",

        // About Section
        about_tag: "من أنا",
        about_title: "شغف بالتميز والإبداع",
        about_intro: "مرحباً! أنا <strong>Benbrika Abderhman</strong>، متخصص في عالم <strong>التداول</strong> و<strong>إدارة السوشيال ميديا</strong> و<strong>البرمجة</strong>، أجمع بين التحليل الدقيق للأسواق المالية والإبداع في صناعة المحتوى وتطوير المواقع.",
        about_trading_title: "خبرة في التداول",
        about_trading_desc: "أكثر من 5 سنوات في تحليل الأسواق والعملات الرقمية وUS30",
        about_dev_title: "مطور برمجيات",
        about_dev_desc: "خبرة في Front-end Development و C++ Programming",
        about_social_title: "إدارة السوشيال ميديا",
        about_social_desc: "بناء حضور رقمي قوي وزيادة التفاعل والمتابعين",
        skills_title: "مهاراتي",
        skill_technical: "التحليل الفني",
        skill_frontend: "Front-end Development",
        skill_cpp: "C++ Programming",
        skill_social: "إدارة السوشيال ميديا",

        // Services Section
        services_tag: "خدماتي",
        services_title: "ما أقدمه لك",
        service_1_title: "تحليل الأسواق",
        service_1_desc: "تحليل فني ومالي دقيق للأسواق المالية والعملات الرقمية مع توصيات يومية",
        service_1_feature_1: "تحليل يومي للأسواق",
        service_1_feature_2: "توصيات دخول وخروج",
        service_1_feature_3: "إدارة المحفظة",
        featured_badge: "الأكثر طلباً",
        service_2_title: "تعليم التداول",
        service_2_desc: "دورات وتدريب شخصي لتعلم أساسيات واحتراف التداول من الصفر",
        service_2_feature_1: "دورات مسجلة وحية",
        service_2_feature_2: "متابعة شخصية",
        service_2_feature_3: "مجتمع خاص للمتداولين",
        service_3_title: "إدارة السوشيال ميديا",
        service_3_desc: "إدارة كاملة لحساباتك على منصات التواصل مع استراتيجية نمو مدروسة",
        service_3_feature_1: "جدولة المنشورات",
        service_3_feature_2: "تصميم المحتوى",
        service_3_feature_3: "تحليل الأداء",
        service_4_title: "استشارات مالية",
        service_4_desc: "جلسات استشارية خاصة لتحسين أدائك في التداول وبناء محفظة استثمارية",
        service_4_feature_1: "تقييم المحفظة",
        service_4_feature_2: "خطة استثمارية",
        service_4_feature_3: "متابعة دورية",
        service_link: "اطلب الخدمة ←",

        // Portfolio Section
        portfolio_tag: "أعمالي",
        portfolio_title: "نماذج من إنجازاتي",
        filter_all: "الكل",
        filter_trading: "التداول",
        filter_social: "السوشيال ميديا",
        filter_content: "المحتوى",
        portfolio_trading: "تداول",
        portfolio_btc_title: "تحليل Bitcoin",
        portfolio_btc_desc: "توقع دقيق لحركة BTC",
        portfolio_social: "سوشيال ميديا",
        portfolio_campaign_title: "حملة تسويقية ناجحة",
        portfolio_campaign_desc: "نمو 300% في التفاعل خلال 3 أشهر",
        portfolio_view: "شاهد التفاصيل",
        portfolio_programming: "برمجة",
        portfolio_frontend_title: "مشاريع Front-end",
        portfolio_frontend_desc: "تطوير مواقع ويب احترافية",
        portfolio_us30_title: "تحليل US30",
        portfolio_us30_desc: "صفقات ناجحة متتالية",
        portfolio_instagram_title: "إدارة حساب Instagram",
        portfolio_instagram_desc: "بناء مجتمع قوي ومتفاعل",
        portfolio_education: "تعليم",
        portfolio_course_title: "دورة التداول الاحترافية",
        portfolio_course_desc: "تدريب 500+ متداول على استراتيجيات US30 و BTC",
        portfolio_join: "انضم الآن",

        // Stats Section
        stat_trades: "صفقة ناجحة",
        stat_happy_clients: "عميل راضي",
        stat_success_rate: "نسبة النجاح",
        stat_experience: "سنوات خبرة",

        // Testimonials Section
        testimonials_tag: "آراء العملاء",
        testimonials_title: "ماذا قالوا عني",
        testimonial_1: "خبرة رائعة في التداول، ساعدني على تحقيق أرباح ممتازة خلال فترة قصيرة. أنصح به بشدة!",
        testimonial_1_name: "أحمد محمد",
        testimonial_1_role: "متداول",
        testimonial_2: "إدارة احترافية لحسابات السوشيال ميديا، حققنا نمو كبير في المتابعين والتفاعل.",
        testimonial_2_name: "سارة علي",
        testimonial_2_role: "صاحبة متجر إلكتروني",
        testimonial_3: "دورة التداول كانت شاملة ومفيدة جداً، أصبحت قادراً على التداول باحترافية.",
        testimonial_3_name: "محمد خالد",
        testimonial_3_role: "خريج الدورة",

        // Contact Section
        contact_tag: "تواصل معي",
        contact_title: "دعنا نعمل معاً",
        contact_ready: "مستعد للبدء؟",
        contact_desc: "تواصل معي الآن لمناقشة مشروعك أو للاستفسار عن خدماتي",
        contact_email_label: "البريد الإلكتروني",
        contact_phone_label: "الهاتف",
        contact_telegram_label: "تيليجرام",
        form_name: "الاسم الكامل",
        form_email: "البريد الإلكتروني",
        form_service_placeholder: "اختر الخدمة",
        form_service_1: "تحليل الأسواق",
        form_service_2: "تعليم التداول",
        form_service_3: "إدارة السوشيال ميديا",
        form_service_4: "استشارات مالية",
        form_service_5: "أخرى",
        form_message: "رسالتك",
        form_submit: "إرسال الرسالة",
        form_success: "تم الإرسال بنجاح! ✓",

        // Footer
        footer_desc: "متخصص في التداول وإدارة السوشيال ميديا والبرمجة",
        footer_copyright: "© 2024 Benbrika Abderhman. جميع الحقوق محفوظة"
    },

    en: {
        // Navigation
        nav_home: "Home",
        nav_about: "About",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_stats: "Achievements",
        nav_contact: "Contact",

        // Hero Section
        hero_badge: "Specialist in Trading, Social Media Management & Development",
        hero_title_1: "I transform ideas into",
        hero_title_2: "exceptional results",
        hero_description: "Distinguished expertise in financial markets and trading, with creativity in social media management. I help you achieve your financial goals and build a strong digital presence.",
        hero_btn_start: "Start Now",
        hero_btn_work: "View My Work",
        stat_success: "Success Rate",
        stat_followers: "Followers",
        stat_clients: "Happy Clients",
        scroll_more: "Discover More",

        // About Section
        about_tag: "About Me",
        about_title: "Passion for Excellence & Creativity",
        about_intro: "Hello! I'm <strong>Benbrika Abderhman</strong>, specialized in <strong>Trading</strong>, <strong>Social Media Management</strong> and <strong>Programming</strong>, combining precise financial market analysis with creativity in content creation and web development.",
        about_trading_title: "Trading Expertise",
        about_trading_desc: "More than 5 years in market analysis, cryptocurrencies and US30",
        about_dev_title: "Software Developer",
        about_dev_desc: "Experience in Front-end Development and C++ Programming",
        about_social_title: "Social Media Management",
        about_social_desc: "Building strong digital presence and increasing engagement",
        skills_title: "My Skills",
        skill_technical: "Technical Analysis",
        skill_frontend: "Front-end Development",
        skill_cpp: "C++ Programming",
        skill_social: "Social Media Management",

        // Services Section
        services_tag: "My Services",
        services_title: "What I Offer",
        service_1_title: "Market Analysis",
        service_1_desc: "Precise technical and financial analysis of markets and cryptocurrencies with daily recommendations",
        service_1_feature_1: "Daily Market Analysis",
        service_1_feature_2: "Entry and Exit Signals",
        service_1_feature_3: "Portfolio Management",
        featured_badge: "Most Requested",
        service_2_title: "Trading Education",
        service_2_desc: "Courses and personal training to learn trading basics and mastery from scratch",
        service_2_feature_1: "Recorded and Live Courses",
        service_2_feature_2: "Personal Follow-up",
        service_2_feature_3: "Private Traders Community",
        service_3_title: "Social Media Management",
        service_3_desc: "Complete management of your accounts with a strategic growth plan",
        service_3_feature_1: "Post Scheduling",
        service_3_feature_2: "Content Design",
        service_3_feature_3: "Performance Analysis",
        service_4_title: "Financial Consulting",
        service_4_desc: "Private consulting sessions to improve your trading and build an investment portfolio",
        service_4_feature_1: "Portfolio Evaluation",
        service_4_feature_2: "Investment Plan",
        service_4_feature_3: "Periodic Follow-up",
        service_link: "Request Service →",

        // Portfolio Section
        portfolio_tag: "Portfolio",
        portfolio_title: "Examples of My Work",
        filter_all: "All",
        filter_trading: "Trading",
        filter_social: "Social Media",
        filter_content: "Content",
        portfolio_trading: "Trading",
        portfolio_btc_title: "Bitcoin Analysis",
        portfolio_btc_desc: "Accurate BTC price prediction",
        portfolio_social: "Social Media",
        portfolio_campaign_title: "Successful Marketing Campaign",
        portfolio_campaign_desc: "300% growth in engagement in 3 months",
        portfolio_view: "View Details",
        portfolio_programming: "Programming",
        portfolio_frontend_title: "Front-end Projects",
        portfolio_frontend_desc: "Professional website development",
        portfolio_us30_title: "US30 Analysis",
        portfolio_us30_desc: "Consecutive successful trades",
        portfolio_instagram_title: "Instagram Account Management",
        portfolio_instagram_desc: "Building a strong, engaged community",
        portfolio_education: "Education",
        portfolio_course_title: "Professional Trading Course",
        portfolio_course_desc: "Training 500+ traders on US30 & BTC strategies",
        portfolio_join: "Join Now",

        // Stats Section
        stat_trades: "Successful Trades",
        stat_happy_clients: "Happy Clients",
        stat_success_rate: "Success Rate",
        stat_experience: "Years Experience",

        // Testimonials Section
        testimonials_tag: "Testimonials",
        testimonials_title: "What They Say About Me",
        testimonial_1: "Amazing trading expertise, helped me achieve excellent profits in a short period. Highly recommended!",
        testimonial_1_name: "Ahmed Mohamed",
        testimonial_1_role: "Trader",
        testimonial_2: "Professional social media management, we achieved significant growth in followers and engagement.",
        testimonial_2_name: "Sara Ali",
        testimonial_2_role: "Online Store Owner",
        testimonial_3: "The trading course was comprehensive and very useful, I became able to trade professionally.",
        testimonial_3_name: "Mohamed Khaled",
        testimonial_3_role: "Course Graduate",

        // Contact Section
        contact_tag: "Contact Me",
        contact_title: "Let's Work Together",
        contact_ready: "Ready to Start?",
        contact_desc: "Contact me now to discuss your project or inquire about my services",
        contact_email_label: "Email",
        contact_phone_label: "Phone",
        contact_telegram_label: "Telegram",
        form_name: "Full Name",
        form_email: "Email Address",
        form_service_placeholder: "Select Service",
        form_service_1: "Market Analysis",
        form_service_2: "Trading Education",
        form_service_3: "Social Media Management",
        form_service_4: "Financial Consulting",
        form_service_5: "Other",
        form_message: "Your Message",
        form_submit: "Send Message",
        form_success: "Sent Successfully! ✓",

        // Footer
        footer_desc: "Specialist in Trading, Social Media Management & Development",
        footer_copyright: "© 2024 Benbrika Abderhman. All Rights Reserved"
    },

    fr: {
        // Navigation
        nav_home: "Accueil",
        nav_about: "À Propos",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_stats: "Réalisations",
        nav_contact: "Contact",

        // Hero Section
        hero_badge: "Spécialiste en Trading, Gestion des Réseaux Sociaux & Développement",
        hero_title_1: "Je transforme les idées en",
        hero_title_2: "résultats exceptionnels",
        hero_description: "Expertise distinguée dans les marchés financiers et le trading, avec créativité dans la gestion des réseaux sociaux. Je vous aide à atteindre vos objectifs financiers et à construire une forte présence digitale.",
        hero_btn_start: "Commencer",
        hero_btn_work: "Voir Mes Travaux",
        stat_success: "Taux de Réussite",
        stat_followers: "Abonnés",
        stat_clients: "Clients Satisfaits",
        scroll_more: "Découvrir Plus",

        // About Section
        about_tag: "À Propos",
        about_title: "Passion pour l'Excellence & la Créativité",
        about_intro: "Bonjour! Je suis <strong>Benbrika Abderhman</strong>, spécialisé dans le <strong>Trading</strong>, la <strong>Gestion des Réseaux Sociaux</strong> et la <strong>Programmation</strong>, combinant une analyse précise des marchés financiers avec la créativité dans la création de contenu et le développement web.",
        about_trading_title: "Expertise en Trading",
        about_trading_desc: "Plus de 5 ans dans l'analyse de marché, cryptomonnaies et US30",
        about_dev_title: "Développeur Logiciel",
        about_dev_desc: "Expérience en Développement Front-end et Programmation C++",
        about_social_title: "Gestion des Réseaux Sociaux",
        about_social_desc: "Construire une forte présence digitale et augmenter l'engagement",
        skills_title: "Mes Compétences",
        skill_technical: "Analyse Technique",
        skill_frontend: "Développement Front-end",
        skill_cpp: "Programmation C++",
        skill_social: "Gestion des Réseaux Sociaux",

        // Services Section
        services_tag: "Mes Services",
        services_title: "Ce Que J'Offre",
        service_1_title: "Analyse de Marché",
        service_1_desc: "Analyse technique et financière précise des marchés et cryptomonnaies avec recommandations quotidiennes",
        service_1_feature_1: "Analyse Quotidienne",
        service_1_feature_2: "Signaux d'Entrée et Sortie",
        service_1_feature_3: "Gestion de Portefeuille",
        featured_badge: "Le Plus Demandé",
        service_2_title: "Formation au Trading",
        service_2_desc: "Cours et formation personnelle pour apprendre les bases et maîtriser le trading",
        service_2_feature_1: "Cours Enregistrés et en Direct",
        service_2_feature_2: "Suivi Personnel",
        service_2_feature_3: "Communauté Privée de Traders",
        service_3_title: "Gestion des Réseaux Sociaux",
        service_3_desc: "Gestion complète de vos comptes avec une stratégie de croissance planifiée",
        service_3_feature_1: "Planification des Publications",
        service_3_feature_2: "Conception de Contenu",
        service_3_feature_3: "Analyse de Performance",
        service_4_title: "Conseil Financier",
        service_4_desc: "Sessions de conseil privées pour améliorer votre trading et construire un portefeuille",
        service_4_feature_1: "Évaluation du Portefeuille",
        service_4_feature_2: "Plan d'Investissement",
        service_4_feature_3: "Suivi Périodique",
        service_link: "Demander le Service →",

        // Portfolio Section
        portfolio_tag: "Portfolio",
        portfolio_title: "Exemples de Mes Travaux",
        filter_all: "Tout",
        filter_trading: "Trading",
        filter_social: "Réseaux Sociaux",
        filter_content: "Contenu",
        portfolio_trading: "Trading",
        portfolio_btc_title: "Analyse Bitcoin",
        portfolio_btc_desc: "Prédiction précise du prix BTC",
        portfolio_social: "Réseaux Sociaux",
        portfolio_campaign_title: "Campagne Marketing Réussie",
        portfolio_campaign_desc: "Croissance de 300% en 3 mois",
        portfolio_view: "Voir les Détails",
        portfolio_programming: "Programmation",
        portfolio_frontend_title: "Projets Front-end",
        portfolio_frontend_desc: "Développement de sites web professionnels",
        portfolio_us30_title: "Analyse US30",
        portfolio_us30_desc: "Trades consécutifs réussis",
        portfolio_instagram_title: "Gestion Compte Instagram",
        portfolio_instagram_desc: "Construire une communauté forte et engagée",
        portfolio_education: "Éducation",
        portfolio_course_title: "Cours de Trading Professionnel",
        portfolio_course_desc: "Formation de 500+ traders sur les stratégies US30 & BTC",
        portfolio_join: "Rejoindre",

        // Stats Section
        stat_trades: "Trades Réussis",
        stat_happy_clients: "Clients Satisfaits",
        stat_success_rate: "Taux de Réussite",
        stat_experience: "Années d'Expérience",

        // Testimonials Section
        testimonials_tag: "Témoignages",
        testimonials_title: "Ce Qu'ils Disent de Moi",
        testimonial_1: "Expertise incroyable en trading, m'a aidé à réaliser d'excellents profits en peu de temps. Fortement recommandé!",
        testimonial_1_name: "Ahmed Mohamed",
        testimonial_1_role: "Trader",
        testimonial_2: "Gestion professionnelle des réseaux sociaux, nous avons atteint une croissance significative en abonnés et engagement.",
        testimonial_2_name: "Sara Ali",
        testimonial_2_role: "Propriétaire de Boutique en Ligne",
        testimonial_3: "Le cours de trading était complet et très utile, je suis devenu capable de trader professionnellement.",
        testimonial_3_name: "Mohamed Khaled",
        testimonial_3_role: "Diplômé du Cours",

        // Contact Section
        contact_tag: "Contactez-moi",
        contact_title: "Travaillons Ensemble",
        contact_ready: "Prêt à Commencer?",
        contact_desc: "Contactez-moi maintenant pour discuter de votre projet ou vous renseigner sur mes services",
        contact_email_label: "Email",
        contact_phone_label: "Téléphone",
        contact_telegram_label: "Telegram",
        form_name: "Nom Complet",
        form_email: "Adresse Email",
        form_service_placeholder: "Sélectionner Service",
        form_service_1: "Analyse de Marché",
        form_service_2: "Formation au Trading",
        form_service_3: "Gestion des Réseaux Sociaux",
        form_service_4: "Conseil Financier",
        form_service_5: "Autre",
        form_message: "Votre Message",
        form_submit: "Envoyer le Message",
        form_success: "Envoyé avec Succès! ✓",

        // Footer
        footer_desc: "Spécialiste en Trading, Gestion des Réseaux Sociaux & Développement",
        footer_copyright: "© 2024 Benbrika Abderhman. Tous Droits Réservés"
    }
};

// Language Manager
const LanguageManager = {
    currentLang: 'ar',

    init() {
        // Check for saved language preference
        const savedLang = localStorage.getItem('preferredLanguage') || 'ar';
        this.setLanguage(savedLang);
        this.initLanguageSwitcher();
    },

    setLanguage(lang) {
        if (!translations[lang]) return;

        this.currentLang = lang;
        localStorage.setItem('preferredLanguage', lang);

        // Update HTML direction and language
        const html = document.documentElement;
        if (lang === 'ar') {
            html.setAttribute('dir', 'rtl');
            html.setAttribute('lang', 'ar');
            document.body.style.fontFamily = "'Cairo', sans-serif";
        } else {
            html.setAttribute('dir', 'ltr');
            html.setAttribute('lang', lang);
            document.body.style.fontFamily = "'Outfit', sans-serif";
        }

        // Update all elements with data-i18n attribute
        this.translatePage();

        // Update active language button
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.lang === lang) {
                btn.classList.add('active');
            }
        });

        // Update TradingView widgets locale
        this.updateTradingViewLocale(lang);
    },

    translatePage() {
        const t = translations[this.currentLang];

        // Translate all elements with data-i18n
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.dataset.i18n;
            if (t[key]) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    // For inputs, update placeholder
                } else if (element.hasAttribute('data-i18n-html')) {
                    element.innerHTML = t[key];
                } else {
                    element.textContent = t[key];
                }
            }
        });

        // Translate placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.dataset.i18nPlaceholder;
            if (t[key]) {
                element.placeholder = t[key];
            }
        });

        // Translate labels
        document.querySelectorAll('[data-i18n-label]').forEach(element => {
            const key = element.dataset.i18nLabel;
            if (t[key]) {
                const label = element.parentElement.querySelector('label');
                if (label) {
                    label.textContent = t[key];
                }
            }
        });
    },

    updateTradingViewLocale(lang) {
        // Update TradingView widget iframes with new locale
        const localeMap = { ar: 'ar', en: 'en', fr: 'fr' };
        const locale = localeMap[lang] || 'en';

        document.querySelectorAll('.tradingview-widget-container iframe').forEach(iframe => {
            const src = iframe.src;
            if (src.includes('locale=')) {
                iframe.src = src.replace(/locale=[a-z]+/, `locale=${locale}`);
            }
        });
    },

    initLanguageSwitcher() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.dataset.lang;
                this.setLanguage(lang);
            });
        });
    }
};

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
    LanguageManager.init();
});
